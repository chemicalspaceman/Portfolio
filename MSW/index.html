<html>
	<head>
		<title>WWDV</title>



   	<!-- Table and some other bits -->
   	<link rel="stylesheet" href="css/style.css">

   	<!-- Form layout -->
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">



    <!-- Wave favicon from https://www.favicon.cc/?action=icon&file_id=193906-->
    <link href="favicon.ico" rel="icon" type="image/x-icon" />

    <!-- For map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""/>


   		<style>
   			#mapid { height: 50vh; }
   		</style>

	</head>

	<body>

		<div id="mapid"></div>
		<!-- Form Container -->
		<div class="w3-container w3-padding-32 w3-theme-l5" id="inputForm">
      <h1>Weather and Wave Data Visualiser</h1>
      <br/>
  			<div class="w3-row">
    			<div class="w3-padding-large w3-col m7">
            <!--
    				  <div class="w3-padding-16">
    					<span class="w3-xlarge w3-border-teal w3-bottombar">Lat Long Form</span>
    				  </div>
            -->
    				
            <p> The national data buoy center (NDBC) provides an infrastructure for monitoring ocean conditions. Weather stations and wave buoy observations form part of the essential toolkit for anybody looking to understand real time deep water conditions, and their effect on the weather and waves within their region.
            </p>

      			<h3>How does it work?</h3>
            <p>
            First, you will be notified that the import of the latest NDBC data has been successfully loaded (usually as soon as the page is loaded). Then, you can use any of the following methods to get a list of observations in a 100 mile radius of your chosen location. All results are displayed in the table at the bottom of the page.
            </p>

            <h5> There are 3 ways to find the data you need: </h5>

      			<p>
              <ol>
                <li><b>Click on the map</b> to get data at that location. The latitude and longitude will be appear as the 'current location'. </li><br>

                <li>Enter a latitude and longitude into the form and click "<b>Submit</b>". </li><br>

                <li>Use geo location to determine your current position and get data near you by clicking "<b>Get My Location</b>". </li><br>

              </ol>
            </p>

      	  
    			</div>

    			<div class="w3-padding w3-col m5">
      				<form class="w3-container w3-card-4 w3-padding-16 w3-white" action="/action_page.php" target="_blank">
      			
      					<div class="w3-section">      
        					<label>Latitude</label>
        					<input class="w3-input" type="text" name="Latitude" id = "lat" value = "50.2839" required><br>
      					</div>

      					<div class="w3-section">      
        					<label>Longitude</label>
        					<input class="w3-input" type="text" name="Longitude" id = "lon" value = "-3.7775" required><br><br>
      					</div>
      				</form>
      			
              <button onclick="submitter()" class="w3-button w3-right w3-theme">Submit</button>	
    			</div>
  			</div>
		</div>
    <!--New div container allows for nice centering -->
    <div class="w3-container w3-padding-16 w3-theme-l5">

            <h4 align = "center"><b>The current location is:</b></h4>
            <p ALIGN = "CENTER">
              <b><span id="latitude">0.000</span></b>&deg;
              latitude by <b><span id="longitude">0.000</span></b>&deg; longitude.
            </p>
            <p ALIGN = "center">
            <button onclick="getLocation()" class="w3-button w3-center w3-theme">
            Get My Location
            </button>
          </p>

            
    </div>


		<!-- NEW SECTION FOR THE TABLE -->
		<section>
			<h1>Latest Observations</h1>
			<div class = "tbl-header">
    			<table cellpadding="0" cellspacing="0" border="0">
    				<thead>
       					<tr>
        					<th>STATION 		    <br/> # 		       </th>
        					<th>LATITUDE 		    <br/> (deg) 	     </th>
        					<th>LONGITUDE		    <br/> (deg) 	     </th>
        					<th>WIND DIRECTION 	<br/> (deg true)   </th>
        					<th>WIND SPEED 		  <br/> (m/s) 	     </th>
        					<th>WAVE HEIGHT 	  <br/> (m)		       </th>
        					<th>AVG PERIOD 		  <br/> (sec)		     </th>
        					<th>AIR TEMP 		    <br/> (&#8451;) 	 </th>
        					<th>WATER TEMP 		  <br/> (&#8451;)		 </th>
        					<th>DISTANCE 		    <br/> (miles)	     </th>
                  <th>LAST UPDATED    <br/> (UTC/GMT)    </th>
        				</tr>
    				</thead>
				</table>
			</div>
		
			<div class = "tbl-content">
				<table id="dataTable" cellpadding="0" cellspacing="0" border="0">
					<tbody>
					</tbody>
				</table>
			</div>
		</section>

    <section>
      <p align = "center">
        <button onclick="topFunction()" class="w3-button w3-center w3-theme">Back To Top</button>
      </p>
      <h6>Written by Matthew Bailey for MSW</h6>

      <!-- Table graphics acknowledgement 
      <p>
      Table graphics inspired by a Code Pen by <a target="_blank" href="https://codepen.io/nikhil8krishnan">Nikhil Krishnan</a>
      </p>
      -->
    </section>
	</body>

	<!-- Leaflet.js map script -->
	<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
	   integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
	   crossorigin="">
	</script>

	<!-- Deals with the cool alert pop ups -->
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

	<!-- Main .js file. Data fetch, dataFrame, map design, table design and deals with form inputs -->
	<script src = "Scripts/Main.js"></script>
</html>